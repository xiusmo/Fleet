import{a as e,j as a,u as l,c as t,o as s,b as o,f as u,w as d,g as r,n,k as i,m as c,i as f,l as m,p as _,q as p,s as v,t as b,d as g,v as h,x,y as k,e as w,z as y,A as j,T as C,E}from"./index-Eg7O6Ff6.js";import{u as F}from"./auth-BY-vmh9F.js";import{_ as q}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./index-fwOAAbVN.js";const z={class:"app-container"},A={class:"logo-container"},I={key:0,class:"logo-title"},L={key:1,class:"logo-title-small"},M={class:"header"},R={class:"left-area"},T={class:"right-area"},W={class:"el-dropdown-link"},B={class:"content"},D=q({__name:"MainLayout",setup(q){const D=l(),G=F(),H=e(!1),J=e=>{"logout"===e?(G.logout(),D.push("/login")):"profile"===e&&E.info("个人信息功能暂未实现")},K=a((()=>D.currentRoute.value)),N=a((()=>{const{path:e}=K.value;return e.startsWith("/dashboard")?"dashboard":e.split("/")[1]}));return(e,a)=>{const l=r("el-icon"),E=r("el-menu-item"),F=r("el-menu"),q=r("el-button"),D=r("el-breadcrumb-item"),O=r("el-breadcrumb"),P=r("el-dropdown-item"),Q=r("el-dropdown-menu"),S=r("el-dropdown"),U=r("router-view");return s(),t("div",z,[o("div",{class:n(["sidebar",{"is-collapsed":H.value}])},[u(F,{"default-active":N.value,class:"el-menu-vertical",collapse:H.value,"background-color":"var(--sidebar-background)","text-color":"var(--sidebar-text)","active-text-color":"#409EFF",router:""},{default:d((()=>[o("div",A,[H.value?(s(),t("h1",L,"控")):(s(),t("h1",I,"管理控制台"))]),u(E,{index:"dashboard",route:"/dashboard"},{title:d((()=>a[1]||(a[1]=[f("控制面板")]))),default:d((()=>[u(l,null,{default:d((()=>[u(i(c))])),_:1})])),_:1}),u(E,{index:"users",route:"/users"},{title:d((()=>a[2]||(a[2]=[f("用户管理")]))),default:d((()=>[u(l,null,{default:d((()=>[u(i(m))])),_:1})])),_:1}),u(E,{index:"workers",route:"/workers"},{title:d((()=>a[3]||(a[3]=[f("工作节点")]))),default:d((()=>[u(l,null,{default:d((()=>[u(i(_))])),_:1})])),_:1}),u(E,{index:"logs",route:"/logs"},{title:d((()=>a[4]||(a[4]=[f("系统日志")]))),default:d((()=>[u(l,null,{default:d((()=>[u(i(p))])),_:1})])),_:1}),u(E,{index:"announcements",route:"/announcements"},{title:d((()=>a[5]||(a[5]=[f("公告管理")]))),default:d((()=>[u(l,null,{default:d((()=>[u(i(v))])),_:1})])),_:1}),u(E,{index:"system",route:"/system"},{title:d((()=>a[6]||(a[6]=[f("系统状态")]))),default:d((()=>[u(l,null,{default:d((()=>[u(i(b))])),_:1})])),_:1})])),_:1},8,["default-active","collapse"])],2),o("div",{class:n(["main-container",{"is-collapsed":H.value}])},[o("div",M,[o("div",R,[u(q,{onClick:a[0]||(a[0]=e=>H.value=!H.value)},{default:d((()=>[u(l,null,{default:d((()=>[(s(),g(h(H.value?i(x):i(k))))])),_:1})])),_:1}),u(O,{separator:"/"},{default:d((()=>[u(D,{to:{path:"/dashboard"}},{default:d((()=>a[7]||(a[7]=[f("首页")]))),_:1}),K.value.meta&&K.value.meta.title?(s(),g(D,{key:0},{default:d((()=>[f(y(K.value.meta.title),1)])),_:1})):w("",!0)])),_:1})]),o("div",T,[u(S,{trigger:"click",onCommand:J},{dropdown:d((()=>[u(Q,null,{default:d((()=>[u(P,{command:"profile"},{default:d((()=>a[8]||(a[8]=[f("个人信息")]))),_:1}),u(P,{divided:"",command:"logout"},{default:d((()=>a[9]||(a[9]=[f("退出登录")]))),_:1})])),_:1})])),default:d((()=>[o("span",W,[f(y(i(G).user&&i(G).user.person_name||"管理员")+" ",1),u(l,{class:"el-icon--right"},{default:d((()=>[u(i(j))])),_:1})])])),_:1})])]),o("div",B,[u(U,null,{default:d((({Component:e})=>[u(C,{name:"fade",mode:"out-in"},{default:d((()=>[(s(),g(h(e)))])),_:2},1024)])),_:1})])],2)])}}},[["__scopeId","data-v-c7ba8fe7"]]);export{D as default};
